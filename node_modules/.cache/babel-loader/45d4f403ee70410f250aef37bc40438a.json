{"ast":null,"code":"import React,{useRef,useEffect}from\"react\";import*as d3 from\"d3\";import{jsx as _jsx}from\"react/jsx-runtime\";var Scatterplot=function Scatterplot(props){var splotSvg=useRef(null);var svgSize=props.margin*2+props.size;useEffect(function(){//dataset\nvar datasetX=props.data.map(function(d){return parseFloat(d[0]);});var datasetY=props.data.map(function(d){return parseFloat(d[1]);});//define axisX\nvar linearX=d3.scaleLinear().domain([d3.min(datasetX),d3.max(datasetX)]).range([0,props.size]);var axisX=d3.axisBottom(linearX);//define axisY\nvar linearY=d3.scaleLinear().domain([d3.min(datasetY),d3.max(datasetY)]).range([props.size,0]);var axisY=d3.axisLeft(linearY);//append axisX\nvar svg=d3.select(splotSvg.current);svg.append(\"g\").attr(\"transform\",\"translate(\".concat(props.margin,\",\").concat(props.size+props.margin,\")\")).call(axisX);//append axisY\nsvg.append(\"g\").attr(\"transform\",\"translate(\".concat(props.margin,\",\").concat(props.margin,\")\")).call(axisY);//append dot\nvar dotSvg=svg.append(\"g\").attr(\"transform\",\"translate(\".concat(props.margin,\",\").concat(props.margin,\")\"));dotSvg.selectAll(\"circle\").data(props.data).enter().append(\"circle\").attr(\"class\",function(_,i){return\"circle\".concat(i);}).attr(\"r\",props.radius).attr(\"cx\",function(d){return linearX(d[0]);}).attr(\"cy\",function(d){return linearY(d[1]);});});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"svg\",{ref:splotSvg,width:svgSize,height:svgSize})});};export default Scatterplot;","map":{"version":3,"names":["React","useRef","useEffect","d3","jsx","_jsx","Scatterplot","props","splotSvg","svgSize","margin","size","datasetX","data","map","d","parseFloat","datasetY","linearX","scaleLinear","domain","min","max","range","axisX","axisBottom","linearY","axisY","axisLeft","svg","select","current","append","attr","concat","call","dotSvg","selectAll","enter","_","i","radius","children","ref","width","height"],"sources":["/Users/yanguangjing/Desktop/infovis-assignment-1/src/components/Scatterplot.js"],"sourcesContent":["import React, { useRef, useEffect} from \"react\";\nimport * as d3 from \"d3\";\n\n\n\nconst Scatterplot = (props) => {\n\n\tconst splotSvg = useRef(null);\n\tconst svgSize = props.margin * 2 + props.size;\n\n\tuseEffect(() => {\n\t\t//dataset\n\t\tlet datasetX = props.data.map(d => parseFloat(d[0]));\n\t\tlet datasetY = props.data.map(d => parseFloat(d[1]));\n\n\t\t//define axisX\n\t\tlet linearX = d3.scaleLinear().domain([d3.min(datasetX), d3.max(datasetX)]).range([0, props.size]);\n\t\tlet axisX = d3.axisBottom(linearX);\n\n\t\t//define axisY\n\t\tlet linearY = d3.scaleLinear().domain([d3.min(datasetY), d3.max(datasetY)]).range([props.size, 0]);\n\t\tlet axisY = d3.axisLeft(linearY);\n\n\t\t//append axisX\n\t\tconst svg = d3.select(splotSvg.current);\n\t\tsvg.append(\"g\")\n\t \t\t .attr(\"transform\", `translate(${props.margin},${props.size + props.margin})`)\n\t\t\t .call(axisX)\n\n\t\t//append axisY\n\t\tsvg.append(\"g\")\n\t\t\t .attr(\"transform\", `translate(${props.margin},${props.margin})`)\n\t\t\t .call(axisY)\n\n\t\t//append dot\n\t\tconst dotSvg = svg.append(\"g\")\n\t\t\t\t\t\t\t\t\t\t\t.attr(\"transform\", `translate(${props.margin},${props.margin})`)\n\t\tdotSvg.selectAll(\"circle\")\n\t\t\t\t\t.data(props.data)\n\t\t\t\t\t.enter()\n\t\t\t\t\t.append(\"circle\")\n\t\t\t\t\t.attr(\"class\", (_,i) => `circle${i}`)\n\t\t\t\t\t.attr(\"r\", props.radius)\n\t\t\t\t\t.attr(\"cx\", d => linearX(d[0]))\n\t\t\t\t\t.attr(\"cy\", d => linearY(d[1]))\n\t\t\n\t});\n\n\treturn (\n\t\t<div>\n\t\t\t<svg ref={splotSvg} width={svgSize} height={svgSize}> \n\t\t\t</svg>\n\t\t</div>\n\t)\n};\n\nexport default Scatterplot;"],"mappings":"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"},"metadata":{},"sourceType":"module"}